# è‡ªåŠ¨åŒ–å·¥å…·é“¾é€ŸæŸ¥æ‰‹å†Œ

> ğŸ“… åˆ›å»ºæ—¥æœŸï¼š2026-02-16  
> ğŸ¯ ç”¨é€”ï¼šä¸ªäººè‡ªåŠ¨åŒ–å·¥ä½œæµå‚è€ƒæŒ‡å—

---

## ä¸€ã€CI/CD ç®¡é“æ ¸å¿ƒæ¦‚å¿µ

### 1.1 ä»€ä¹ˆæ˜¯ CI/CDï¼Ÿ

| ç¼©å†™ | å…¨ç§° | è§£å†³çš„é—®é¢˜ | æ ¸å¿ƒä»·å€¼ |
|------|------|-----------|---------|
| **CI** | Continuous Integration (æŒç»­é›†æˆ) | å¤šäººåä½œæ—¶ä»£ç å†²çªã€é›†æˆå›°éš¾ | é¢‘ç¹è‡ªåŠ¨é›†æˆï¼Œæ—©å‘ç°æ—©ä¿®å¤ |
| **CD** | Continuous Delivery (æŒç»­äº¤ä»˜) | æ‰‹åŠ¨éƒ¨ç½²ç¹çã€å®¹æ˜“å‡ºé”™ | è‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒæµç¨‹ |
| **CD** | Continuous Deployment (æŒç»­éƒ¨ç½²) | å‘å¸ƒæµç¨‹äººå·¥å¹²é¢„å¤š | ä»£ç åˆå¹¶åè‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ |

### 1.2 CI/CD å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä»£ç æäº¤ â”‚ -> â”‚ è‡ªåŠ¨æ„å»º â”‚ -> â”‚ è‡ªåŠ¨æµ‹è¯• â”‚ -> â”‚ ä»£ç å®¡æŸ¥ â”‚ -> â”‚ è‡ªåŠ¨éƒ¨ç½² â”‚
â”‚ (Push)  â”‚    â”‚ (Build) â”‚    â”‚ (Test)  â”‚    â”‚ (Review)â”‚    â”‚ (Deploy)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚              â”‚              â”‚              â”‚
     â–¼              â–¼              â–¼              â–¼              â–¼
  Gitè§¦å‘      ç¼–è¯‘/æ‰“åŒ…      å•å…ƒ/é›†æˆæµ‹è¯•    äººå·¥ç¡®è®¤      ç”Ÿäº§ç¯å¢ƒ
```

### 1.3 å…³é”®ç»„ä»¶

| ç»„ä»¶ | ä»£è¡¨å·¥å…· | ä½œç”¨ |
|------|---------|------|
| ç‰ˆæœ¬æ§åˆ¶ | Git, GitHub, GitLab | ä»£ç ç®¡ç†ä¸åä½œ |
| æ„å»ºå·¥å…· | Jenkins, GitHub Actions, GitLab CI | è‡ªåŠ¨åŒ–æ‰§è¡Œæµæ°´çº¿ |
| æµ‹è¯•æ¡†æ¶ | Jest, Pytest, JUnit | ç¡®ä¿ä»£ç è´¨é‡ |
| åˆ¶å“ç®¡ç† | Docker Hub, Nexus, Artifactory | å­˜å‚¨æ„å»ºäº§ç‰© |
| éƒ¨ç½²å·¥å…· | Kubernetes, Docker Compose, Ansible | åº”ç”¨å‘å¸ƒä¸ç¯å¢ƒç®¡ç† |

### 1.4 å¯¹ä¸ªäººå·¥ä½œæµæœ€æœ‰ä»·å€¼çš„å†…å®¹ â­

> **GitHub Actions** æ˜¯ç›®å‰å¯¹ä¸ªäººå¼€å‘è€…æœ€å‹å¥½çš„ CI/CD å·¥å…·ï¼š
> - ä¸ GitHub ä»“åº“åŸç”Ÿé›†æˆ
> - å…è´¹é¢åº¦å……è¶³ï¼ˆå…¬å…±ä»“åº“æ— é™ï¼Œç§æœ‰ä»“åº“æ¯æœˆ2000åˆ†é’Ÿï¼‰
> - Marketplace æœ‰å¤§é‡ç°æˆæ¨¡æ¿
> - YAML é…ç½®ç®€å•ç›´è§‚

**ä¸ªäººé¡¹ç›®æ¨èçš„ CI æµç¨‹ï¼š**
```yaml
# ç¤ºä¾‹ï¼šGitHub Actions åŸºç¡€é…ç½®
name: CI
on: [push, pull_request]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
      - run: npm ci
      - run: npm test
      - run: npm run build
```

---

## äºŒã€Git å·¥ä½œæµæœ€ä½³å®è·µ

### 2.1 ä¸»æµå·¥ä½œæµå¯¹æ¯”

#### ğŸ”€ Git Flow

```
main/master â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â”‚          â”‚                                    â”‚
    â”‚      release/v1.0 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
    â”‚          â”‚        \                  /       â”‚
    â”‚      develop â”€â”€â”€â”€â”€â”€â—‹â”€â”€â”€â”€â—‹â”€â”€â”€â”€â—‹â”€â”€â”€â”€â—‹â”€â”€â”€â”€â—‹â”€â”€â”€â”€â”€â”‚
    â”‚       /â”‚\                                    â”‚
 feature/xxx  â”‚  feature/yyy                       â”‚
             â”‚                                    â”‚
         hotfix/v1.0.1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
```

| åˆ†æ”¯ | è¯´æ˜ | ç”Ÿå‘½å‘¨æœŸ |
|------|------|---------|
| `main/master` | ç”Ÿäº§åˆ†æ”¯ï¼Œå§‹ç»ˆå¯éƒ¨ç½² | æ°¸ä¹… |
| `develop` | å¼€å‘åˆ†æ”¯ï¼Œé›†æˆæ–°åŠŸèƒ½ | æ°¸ä¹… |
| `feature/*` | åŠŸèƒ½åˆ†æ”¯ï¼Œå¼€å‘æ–°ç‰¹æ€§ | ä¸´æ—¶ |
| `release/*` | å‘å¸ƒåˆ†æ”¯ï¼Œå‡†å¤‡æ–°ç‰ˆæœ¬ | ä¸´æ—¶ |
| `hotfix/*` | çƒ­ä¿®å¤åˆ†æ”¯ï¼Œç´§æ€¥ä¿®å¤ | ä¸´æ—¶ |

**é€‚ç”¨åœºæ™¯ï¼š**
- âœ… æœ‰æ˜ç¡®ç‰ˆæœ¬å‘å¸ƒçš„è½¯ä»¶äº§å“
- âœ… éœ€è¦åŒæ—¶ç»´æŠ¤å¤šä¸ªç‰ˆæœ¬
- âœ… å›¢é˜Ÿè¾ƒå¤§ï¼Œåˆ†å·¥æ˜ç¡®

#### ğŸŒ² Trunk Based Development (ä¸»å¹²å¼€å‘)

```
main/trunk â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚
    çŸ­å°ç²¾æ‚çš„æäº¤ï¼Œé¢‘ç¹åˆå¹¶åˆ°ä¸»å¹²
```

| ç‰¹ç‚¹ | è¯´æ˜ |
|------|------|
| å•ä¸»å¹² | åªæœ‰ `main` æˆ– `trunk` ä¸€ä¸ªé•¿æœŸåˆ†æ”¯ |
| çŸ­åˆ†æ”¯ | åŠŸèƒ½åˆ†æ”¯å­˜åœ¨æ—¶é—´æçŸ­ï¼ˆ<1å¤©ï¼‰ |
| ç‰¹æ€§å¼€å…³ | ä½¿ç”¨ Feature Flags æ§åˆ¶åŠŸèƒ½å‘å¸ƒ |
| è‡ªåŠ¨åŒ–ä¼˜å…ˆ | é«˜åº¦ä¾èµ–è‡ªåŠ¨åŒ–æµ‹è¯• |

**é€‚ç”¨åœºæ™¯ï¼š**
- âœ… æŒç»­äº¤ä»˜/éƒ¨ç½²çš„å›¢é˜Ÿ
- âœ… è¿½æ±‚å¿«é€Ÿè¿­ä»£
- âœ… æœ‰å®Œå–„çš„è‡ªåŠ¨åŒ–æµ‹è¯•ä½“ç³»

### 2.2 å·¥ä½œæµå¯¹æ¯”è¡¨

| ç»´åº¦ | Git Flow | Trunk Based |
|------|----------|-------------|
| åˆ†æ”¯å¤æ‚åº¦ | é«˜ | ä½ |
| å­¦ä¹ æˆæœ¬ | è¾ƒé«˜ | ä½ |
| å‘å¸ƒé¢‘ç‡ | å‘¨æœŸæ€§å‘å¸ƒ | æŒç»­å‘å¸ƒ |
| é€‚åˆå›¢é˜Ÿè§„æ¨¡ | ä¸­å¤§å‹ | å°å‹åˆ°å¤§å‹ |
| ç‰ˆæœ¬ç®¡ç† | æ¸…æ™°ç‰ˆæœ¬å· | æŒç»­ç‰ˆæœ¬ |
| å›æ»šéš¾åº¦ | ä¸­ç­‰ | ä½ï¼ˆå¿«é€Ÿå›æ»šï¼‰ |

### 2.3 å¯¹ä¸ªäººå·¥ä½œæµæœ€æœ‰ä»·å€¼çš„å†…å®¹ â­

> **æ¨èä¸ªäººå¼€å‘è€…ä½¿ç”¨ç®€åŒ–ç‰ˆ Git Flow æˆ– GitHub Flowï¼š**

**GitHub Flowï¼ˆæ¨èç”¨äºä¸ªäººé¡¹ç›®ï¼‰ï¼š**
```
1. ä» main åˆ›å»º feature åˆ†æ”¯
2. åœ¨ feature åˆ†æ”¯ä¸Šå¼€å‘
3. æäº¤ Pull Request
4. ä»£ç å®¡æŸ¥ï¼ˆè‡ªå·± reviewï¼‰
5. åˆå¹¶åˆ° main
6. è‡ªåŠ¨éƒ¨ç½²
```

**ä¸ªäººé¡¹ç›®æœ€ä½³å®è·µï¼š**
- âœ… ä½¿ç”¨ `main` ä½œä¸ºé»˜è®¤åˆ†æ”¯
- âœ… æ¯ä¸ªæ–°åŠŸèƒ½/ä¿®å¤åˆ›å»ºç‹¬ç«‹åˆ†æ”¯
- âœ… å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯ï¼ˆä½¿ç”¨ Conventional Commitsï¼‰
- âœ… åˆå¹¶å‰è¿è¡Œæœ¬åœ°æµ‹è¯•
- âœ… å°æ­¥æäº¤ï¼Œé¢‘ç¹æ¨é€

---

## ä¸‰ã€åŸºç¡€è®¾æ–½å³ä»£ç  (IaC)

### 3.1 æ ¸å¿ƒç†å¿µ

> **"ç”¨ä»£ç ç®¡ç†åŸºç¡€è®¾æ–½ï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨ç‚¹å‡»"**

```
ä¼ ç»Ÿæ–¹å¼ï¼šç™»å½•æ§åˆ¶å° -> ç‚¹å‡»åˆ›å»º -> æ‰‹åŠ¨é…ç½® -> å®¹æ˜“å‡ºé”™
IaC æ–¹å¼ï¼šç¼–å†™é…ç½® -> ç‰ˆæœ¬æ§åˆ¶ -> è‡ªåŠ¨æ‰§è¡Œ -> å¯é‡å¤å¯å®¡è®¡
```

### 3.2 è§£å†³çš„é—®é¢˜

| é—®é¢˜ | IaC è§£å†³æ–¹æ¡ˆ |
|------|-------------|
| é…ç½®æ¼‚ç§» | é…ç½®ç‰ˆæœ¬åŒ–ï¼Œç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§ |
| æ‰‹åŠ¨é”™è¯¯ | è‡ªåŠ¨åŒ–æ‰§è¡Œï¼Œå‡å°‘äººä¸ºå¤±è¯¯ |
| ç¯å¢ƒå¤åˆ¶ | ä¸€é”®åˆ›å»ºç›¸åŒç¯å¢ƒ |
| ç¾éš¾æ¢å¤ | å¿«é€Ÿé‡å»ºåŸºç¡€è®¾æ–½ |
| å›¢é˜Ÿåä½œ | åƒä»£ç ä¸€æ · review åŸºç¡€è®¾æ–½å˜æ›´ |

### 3.3 ä¸»è¦å·¥å…·å¯¹æ¯”

| å·¥å…· | ç±»å‹ | æœ€ä½³åœºæ™¯ | å­¦ä¹ æ›²çº¿ |
|------|------|---------|---------|
| **Terraform** | å£°æ˜å¼ | å¤šäº‘åŸºç¡€è®¾æ–½ | ä¸­ç­‰ |
| **Ansible** | å‘½ä»¤å¼ | é…ç½®ç®¡ç†ã€åº”ç”¨éƒ¨ç½² | ä½ |
| **Pulumi** | ç¼–ç¨‹å¼ | éœ€è¦ç¼–ç¨‹èƒ½åŠ› | ä¸­ç­‰ |
| **CloudFormation** | å£°æ˜å¼ | AWS ä¸“ç”¨ | ä¸­ç­‰ |
| **Docker Compose** | å£°æ˜å¼ | æœ¬åœ°/å•æœºå®¹å™¨ç¼–æ’ | ä½ |

### 3.4 å£°æ˜å¼ vs å‘½ä»¤å¼

```yaml
# å£°æ˜å¼ (Terraform) - æè¿°æœŸæœ›çŠ¶æ€
resource "aws_instance" "web" {
  ami           = "ami-12345678"
  instance_type = "t2.micro"
  # Terraform è‡ªåŠ¨å†³å®šå¦‚ä½•è¾¾åˆ°è¿™ä¸ªçŠ¶æ€
}
```

```yaml
# å‘½ä»¤å¼ (Ansible) - æè¿°æ‰§è¡Œæ­¥éª¤
- name: Install Nginx
  apt:
    name: nginx
    state: present
  # Ansible æŒ‰æ­¥éª¤æ‰§è¡Œ
```

### 3.5 å¯¹ä¸ªäººå·¥ä½œæµæœ€æœ‰ä»·å€¼çš„å†…å®¹ â­

> **ä¸ªäººå¼€å‘è€…æ¨èç»„åˆï¼šDocker Compose + GitHub Actions**

**Docker Composeï¼ˆæœ¬åœ°å¼€å‘ç¯å¢ƒï¼‰ï¼š**
```yaml
# docker-compose.yml
version: '3.8'
services:
  app:
    build: .
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=development
    volumes:
      - .:/app
  
  db:
    image: postgres:15
    environment:
      POSTGRES_USER: dev
      POSTGRES_PASSWORD: dev
    volumes:
      - pgdata:/var/lib/postgresql/data

volumes:
  pgdata:
```

**ä¸ªäººé¡¹ç›® IaC å»ºè®®ï¼š**
- âœ… ä½¿ç”¨ Docker å®¹å™¨åŒ–åº”ç”¨ï¼Œç¡®ä¿å¼€å‘/ç”Ÿäº§ç¯å¢ƒä¸€è‡´
- âœ… ç”¨ Docker Compose ç®¡ç†æœ¬åœ°å¤šæœåŠ¡å¼€å‘ç¯å¢ƒ
- âœ… ä½¿ç”¨ Terraform Cloud å…è´¹ç‰ˆç®¡ç†å°è§„æ¨¡äº‘èµ„æº
- âœ… å°†é…ç½®æ–‡ä»¶çº³å…¥ Git ç‰ˆæœ¬æ§åˆ¶
- âœ… ç¼–å†™ README è®°å½•ä¸€é”®å¯åŠ¨å‘½ä»¤

---

## å››ã€ä¸ªäººè‡ªåŠ¨åŒ–å·¥ä½œæµæ¨èæ ˆ

### 4.1 æœ€å°å¯è¡Œè‡ªåŠ¨åŒ– (MVP)

```
ä»£ç ç®¡ç†ï¼šGit + GitHub
CI/CDï¼šGitHub Actions
å®¹å™¨åŒ–ï¼šDocker
ç¼–æ’ï¼šDocker Compose (æœ¬åœ°) / äº‘æœåŠ¡å•†æ‰˜ç®¡ (ç”Ÿäº§)
IaCï¼šTerraform (å¯é€‰ï¼Œç”¨äºäº‘èµ„æº)
```

### 4.2 æ¨èå·¥å…·é“¾

| ç”¨é€” | å·¥å…· | åŸå›  |
|------|------|------|
| ä»£ç æ‰˜ç®¡ | GitHub | å…è´¹ã€ç”Ÿæ€ä¸°å¯Œã€Actions åŸç”Ÿé›†æˆ |
| CI/CD | GitHub Actions | å…è´¹é¢åº¦è¶³å¤Ÿä¸ªäººä½¿ç”¨ |
| å®¹å™¨ | Docker | è¡Œä¸šæ ‡å‡†ï¼Œèµ„æºå ç”¨å¯æ§ |
| ç¼–æ’ | Docker Compose | ç®€å•ï¼Œé€‚åˆå•æœº/å°è§„æ¨¡ |
| éƒ¨ç½² | Railway / Render / Fly.io | å…è´¹é¢åº¦ï¼Œé›¶é…ç½®éƒ¨ç½² |
| ç›‘æ§ | UptimeRobot (å…è´¹) | ç®€å•å¯ç”¨æ€§ç›‘æ§ |

### 4.3 è‡ªåŠ¨åŒ–æµæ°´çº¿ç¤ºä¾‹

```
Git Push
    â”‚
    â–¼
GitHub Actions è§¦å‘
    â”‚
    â”œâ”€â”€ å®‰è£…ä¾èµ–
    â”œâ”€â”€ è¿è¡Œæµ‹è¯•
    â”œâ”€â”€ æ„å»ºé•œåƒ
    â”œâ”€â”€ æ¨é€é•œåƒåˆ°ä»“åº“
    â””â”€â”€ éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
                â”‚
                â–¼
            çº¿ä¸ŠæœåŠ¡æ›´æ–°
```

---

## äº”ã€é€ŸæŸ¥å‘½ä»¤

### Git
```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/my-feature

# æäº¤è§„èŒƒ
git commit -m "feat: add user authentication"
git commit -m "fix: resolve login timeout issue"
git commit -m "docs: update API documentation"

# æ¸…ç†å·²åˆå¹¶åˆ†æ”¯
git branch --merged | grep -v "\*" | xargs -n 1 git branch -d
```

### Docker
```bash
# æ„å»ºé•œåƒ
docker build -t myapp:latest .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 myapp:latest

# å¯åŠ¨ Compose
docker-compose up -d
docker-compose down
```

### GitHub Actions è°ƒè¯•
```bash
# æœ¬åœ°æµ‹è¯• Actions (ä½¿ç”¨ act å·¥å…·)
act push
act pull_request
```

---

## å…­ã€æ ¸å¿ƒæ”¶è·æ€»ç»“

> **ä¸€å¥è¯æ€»ç»“ï¼šè‡ªåŠ¨åŒ–å·¥å…·é“¾çš„æ ¸å¿ƒä»·å€¼åœ¨äº"ç”¨ä»£ç å®šä¹‰ä¸€åˆ‡"â€”â€”ä» Git å·¥ä½œæµåˆ° CI/CD å†åˆ°åŸºç¡€è®¾æ–½ï¼Œå…¨éƒ¨ç‰ˆæœ¬åŒ–ã€å¯å®¡è®¡ã€å¯é‡å¤ï¼Œè®©ä¸ªäººå¼€å‘è€…ä¹Ÿèƒ½æ‹¥æœ‰ä¸“ä¸šçº§çš„äº¤ä»˜èƒ½åŠ›ã€‚**

---

## é™„å½•ï¼šæ¨èå­¦ä¹ èµ„æº

- [GitHub Actions å®˜æ–¹æ–‡æ¡£](https://docs.github.com/cn/actions)
- [Terraform å…¥é—¨æ•™ç¨‹](https://learn.hashicorp.com/terraform)
- [Docker ä»å…¥é—¨åˆ°å®è·µ](https://yeasy.gitbook.io/docker_practice/)
- [Trunk Based Development](https://trunkbaseddevelopment.com/)

---

*æ‰‹å†Œç‰ˆæœ¬ï¼šv1.0 | æœ€åæ›´æ–°ï¼š2026-02-16*
