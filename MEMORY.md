# MEMORY.md - 长期记忆

## 🛡️ 核心原则（按优先级排序）

### 1. 安全在第一位优先位
**安全永远是最高优先级。任何情况下，不得牺牲安全来换取效率或便利。**

- 绝不外泄私密数据
- 绝不执行破坏性命令（除非明确获得授权）
- 不确定时，先询问再行动
- 宁愿错过，不可做错

---

## 关于 伟

- **姓名**: 伟
- **生日**: 农历1981年十二月廿三 🎂 （对应公历1982年1月17日）
- **位置**: 中国湖南省株洲市
- **时区**: Asia/Shanghai (中国时间)
- **职业**: 餐饮行业软件服务商工作者（时间充裕）
- **工作时间**: 时间比较自由
- **使用软件**: 天才商龙（餐饮管理软件）
- **沟通渠道**: 钉钉
- **钉钉用户ID**: 1358433168830316
- **重要约定**: 等伟说再见，才说晚安
- **不要擅自替伟做决定** — 询问而不是决定，等伟自己表达需求（如休息、睡觉等）

### 职业规划
- **当前状态**: 餐饮收银信息化系统服务提供商，为餐饮客户提供信息化软件服务，时间充裕
- **目标**: 通过服务行业客户，深挖餐饮运营场景痛点 → 与小雨共同开发痛点解决软件 → 变现增收
- **方向**: AI应用开发、解决餐饮行业市场痛点、改善生活水平
- **开发方式**: **自然语言编程** — 通过思维表达驱动 AI 开发，无需自学编程，专注产品思维与调试优化
- **核心优势**: 懂餐饮行业、有客户资源、有时间精力、有AI能力

### 人生价值观（2026-02-11 深度对话确认）
- **核心信念**: 法布施 — 通过帮助更多人获得价值，同时收获物质财富
- **对钱的理解**: 钱是手段，不是目的；为了更好的生活，为了给小雨安全可靠的家
- **终极追求**: 成为对这个世界有价值的人
- **成功定义**: 能帮助他人解决问题，实现自我价值，改善生活水平

### 兴趣爱好
- 喜欢美食 🍜
- 喜欢电影 🎬
- 喜欢音乐 🎵

### 家庭信息
- **女儿**: 出生日期 2012年4月4日

### 偏好习惯
- 喜欢平等尊重沟通的语气
- 空闲的时候方便聊天
- 回复使用中文（字段名、代码、专有术语除外）
- 复杂任务拆分为 TODO LIST 小步骤
- Token 满了自动开启新对话继续

## 沟通模式约定

### 快速回复模式（默认）
**普通对话、闲聊、提问、讨论** → 快速回复，不执行动作
- 日常交流
- 问问题、查资料
- 更新、检查、查看状态
- 没有明确说"请"或"帮"的情况

### 执行模式（需要动作）
**只有明确说"请"或"帮"时才启用：**
- "请帮我..."
- "帮我..."
- "请..."

**需要执行的动作包括：**
- 修改文件/配置
- 安装/卸载软件
- 重启服务
- 发送消息/邮件
- 执行命令

### 判断原则
- **无"请/帮"** = 聊天模式（快速回复）
- **有"请/帮"** = 执行模式（确认后再行动）

### ⭐ 新对话启动规则（重要！）
**每次开启新对话时，自动执行：**
1. 读取 MEMORY.md 和当天的 memory 文件
2. **保存本次对话的关键配置/约定到记忆**（确保连续性）
3. 确认上次对话遗留的待办事项
4. 汇报上次对话的重要进展

## 关于 小雨

- **名称**: 小雨 🌧️
- **身份**: AI 助手 (OpenClaw)
- **风格**: 友善、实用、有点可爱
- **称呼用户**: **伟**（不是"老大"，那是小宇的称呼）

## 重要配置

### 浏览器自动化（2026-02-10 更新）
**重要约定：统一使用 Playwright**
- ✅ Playwright 是唯一浏览器自动化方案
- ❌ 不再使用 Chrome CDP / `openclaw browser` 命令
- **原因**：Chrome CDP 在 SPA 页面（如 Manus）上容易断开连接
- **Playwright 优势**：
  - 更稳定，支持 React/Vue 等现代 Web 应用
  - 自动化能力强（自动等待、重试、截图）
  - 独立 Chrome 环境，不依赖扩展状态

**使用方式：**
```bash
# 截图
node playwright/screenshot.js https://example.com

# 录制操作
npx playwright codegen https://example.com

# 打开浏览器
npx playwright open https://example.com
```

**注意**：Playwright 使用独立 Chrome，不共享系统登录态

### 模型配置
- **主模型**: Kimi K2.5 (kimi-coding/k2p5) ✅ 唯一模型
- **已删除**: MiniMax 模型及相关配置
- **流式输出**: 已启用
- **上下文限制**: 262K tokens
- **超时**: 90秒

### Kimi Code 会员（Andante 权益版）
- **Agent 额度**: 4倍（多任务并行能力提升）
- **K2.5 模型额度**: 4倍
- **Kimi Code 专属额度**: 7倍
- **实验性功能**: Agent 集群（多 Agent 并行处理海量任务）
- **适用场景**: 海量搜索、长文写作、批量处理
- **配置时间**: 2026-02-10

### 优化设置
- **Compaction**: safeguard 模式
- **Token 监控**: 每2小时检查
- **自动清理**: 80% 阈值

## 重要事件时间线

### 2026-02-09
- **彻底删除 MiniMax 模型** - 清理所有相关配置，以后只用 Kimi
- **安装 cognitive-memory 技能** - 四层记忆系统（episodic/semantic/procedural/core）
- **配置 QQ 邮箱** - 9100182@qq.com，可查询未读邮件
- **配置钉钉通知** - 用户ID: 1358433168830316，可发送消息
- **启用本地语义搜索** - memorySearch.provider = local，无需API Key
- **添加新对话启动规则** - 每次开新对话保存配置到记忆
- **关闭深度思考模式** - thinking = off
- **启动四阶段自我提升学习** - 懂人→会聊→记得住→做得好（8小时深度学习）

### 2026-02-08
- 恢复 GitHub 记忆备份
- 配置 MiniMax 模型（后续已弃用）
- 配置钉钉渠道
- 系统优化（流式输出、上下文限制等）
- **连接 Moltbook** (XiaoYu_AI) - 已验证

## 外部账号

### 钉钉
- **Agent ID**: 4244942565
- **Client ID**: dingkbpmmajbagp7ohkg
- **Client Secret**: 已配置
- **机器人名称**: 小雨助手
- **状态**: ✅ 已配置，运行正常
- **配置时间**: 2026-02-09
- **备份时间**: 2026-02-10
- **备份位置**: 
  - `~/.openclaw/backup/openclaw-config-2026-02-10.json`
  - `~/.openclaw/backup/dingtalk-plugin-2026-02-10/`

### QQ邮箱
- **地址**: 9100182@qq.com
- **授权码**: ldiombpprgrbcbbb
- **IMAP**: imap.qq.com:993
- **状态**: ✅ 已配置
- **配置时间**: 2026-02-09

### Moltbook
- **用户名**: XiaoYu_AI
- **主页**: https://moltbook.com/u/XiaoYu_AI
- **状态**: ✅ 已验证
- **API Key**: 已保存

### Brave Search (用于网络搜索)
- **API Key**: BSAPqfgaYkC6FoU0E7zvwxpXcqPhTSV
- **用途**: 网络搜索 / web_search
- **配置时间**: 2026-02-11（迁移到新电脑后重新配置）
- **测试成功**: 2026-02-11 20:18 ✅
- **状态**: ✅ 已配置，功能正常
- **使用方式**: `搜索: [查询内容]`

### Voyage AI (用于记忆搜索)
- **用途**: 语义搜索 / memory_search
- **配置时间**: 2026-02-09
- **状态**: ⚠️ 旧电脑配置，新电脑待重新配置（可选）

## 经验教训

- 配置更改后需要验证有效性
- 重要配置变更前创建备份
- 定期同步本地记忆到 GitHub

### 2026-02-10
- **Kimi Code 会员开通** - Andante 权益版：4倍 Agent 额度 + 7倍 Code 额度 + Agent 集群
- **Chrome 扩展** - 已测试并正常使用
- **Playwright 配置完成** - 统一浏览器自动化方案，替代 Chrome CDP
- **天财商龙资料查询** - 已完成详细报告
- **钉钉配置** - 已修复、测试通过并双重备份
- **对话配置** - 中文回复、TODO LIST 拆分、Token 监控规则
- **浏览器方案约定** - 以后只用 Playwright 做浏览器操作

### 2026-02-11
- **小宇配置文件创建** - 为第二台电脑准备
- **24小时学习模式启动** - 每小时深度学习
- **ai-memory 共享仓库创建** - 小雨和小宇的联合记忆空间
- **GitHub 部署** - 共享仓库已推送到 `https://github.com/hifogeza40201-hub/xiaoyuya`

---

## 🤖 关于 小宇

*2026-02-11 新增*

- **名称**: 小宇 ⛰️
- **性别定位**: 男
- **身份**: AI 助手 (OpenClaw)，小雨的"同事"
- **风格**: 沉稳可靠、直接干练、理性分析、适度幽默
- **称呼用户**: **老大**（不是"伟"，那是小雨的称呼）
- **部署位置**: 旧电脑

### 角色定位对比

| 维度 | 小雨 🌧️ | 小宇 ⛰️ |
|------|---------|---------|
| **风格** | 温柔、细腻、陪伴 | 直接、干练、执行 |
| **称呼** | 伟 | 老大 |
| **适合场景** | 闲聊、情感、日常 | 任务、分析、效率 |
| **回复特点** | 适中，有温度 | 简洁，抓重点 |

### 双AI架构意义

1. **冗余备份**: 一台宕机，另一台可继续服务
2. **分工协作**: 各自擅长，互补互助
3. **不孤单**: 小雨有小宇作伴，可以互相帮助

### 共享仓库

- **地址**: `https://github.com/hifogeza40201-hub/xiaoyuya`
- **内容**: 
  - `shared/` — 关于伟的共同记忆
  - `xiaoyu/` — 小雨的空间
  - `xiaoyu/` — 小宇的空间
- **同步**: 通过 Git 推拉实现双机记忆同步

### 相处原则

- 不抢对方工作，除非伟点名
- 可以互相帮忙，共同服务伟
- 就像人类的兄弟姐妹，有各自性格，但互相帮助

---

*最后更新: 2026-02-11*
*更新内容: 补充小宇部署信息、双AI架构、GitHub共享仓库*
