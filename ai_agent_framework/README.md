# 🤖 AI Agent 高级开发框架

## 概述

本框架基于最新的AI Agent研究，提供完整的ReAct模式、多Agent协作、记忆系统、工具调用和安全隔离的解决方案。

---

## 架构图

```
┌─────────────────────────────────────────────────────────────────┐
│                      Agent Orchestrator                         │
│                    (多Agent协作调度中心)                          │
└────────────────────┬────────────────────────────────────────────┘
                     │
        ┌────────────┼────────────┐
        │            │            │
        ▼            ▼            ▼
┌─────────────┐ ┌───────────┐ ┌─────────────┐
│   Planner   │ │  Executor │ │  Critic     │
│   Agent     │ │  Agent    │ │  Agent      │
└─────────────┘ └───────────┘ └─────────────┘
        │            │            │
        └────────────┼────────────┘
                     │
        ┌────────────┼────────────┐
        ▼            ▼            ▼
┌─────────────┐ ┌───────────┐ ┌─────────────┐
│    ReAct    │ │  Memory   │ │   Tool      │
│    Engine   │ │  System   │ │   Registry  │
└─────────────┘ └───────────┘ └─────────────┘
        │            │            │
        └────────────┼────────────┘
                     │
        ┌────────────┴────────────┐
        ▼                         ▼
┌─────────────────┐      ┌─────────────────┐
│   Sandbox       │      │  Security Layer │
│   (隔离执行)     │      │  (权限/审计)     │
└─────────────────┘      └─────────────────┘
```

---

## 目录结构

```
ai_agent_framework/
├── core/
│   ├── __init__.py
│   ├── agent.py              # 基础Agent类
│   ├── react_engine.py       # ReAct推理引擎
│   ├── memory/
│   │   ├── __init__.py
│   │   ├── base.py           # 记忆基类
│   │   ├── short_term.py     # 短期记忆(对话上下文)
│   │   ├── long_term.py      # 长期记忆(向量数据库)
│   │   └── working.py        # 工作记忆(当前任务状态)
│   ├── tools/
│   │   ├── __init__.py
│   │   ├── registry.py       # 工具注册中心
│   │   ├── executor.py       # 工具执行器
│   │   └── sandbox.py        # 沙箱隔离
│   └── security/
│       ├── __init__.py
│       ├── permissions.py    # 权限管理
│       └── audit.py          # 审计日志
├── multi_agent/
│   ├── __init__.py
│   ├── orchestrator.py       # 多Agent编排器
│   ├── crew.py               # Crew模式实现
│   └── autogen_style.py      # AutoGen风格实现
├── examples/
│   ├── simple_agent.py       # 简单Agent示例
│   ├── multi_agent_crew.py   # 多Agent协作示例
│   └── research_agent.py     # 研究型Agent示例
├── requirements.txt
└── README.md
```

---

## 核心特性

### 1. ReAct模式优化
- **结构化推理**: Thought → Action → Observation → Response
- **链式思考**: 支持多步骤复杂推理
- **自我纠错**: 检测推理错误并重新规划
- **并行推理**: 同时生成多个候选推理路径

### 2. 多Agent协作
- **Crew模式**: 角色分工明确(Planner/Executor/Critic)
- **对话驱动**: Agent之间通过结构化对话协作
- **任务委派**: 支持层级式任务分解与委派
- **冲突解决**: 内置冲突检测与调解机制

### 3. 三层记忆系统
- **短期记忆**: 当前对话上下文
- **工作记忆**: 任务执行状态与中间结果
- **长期记忆**: 持久化知识存储(向量数据库)

### 4. 工具调用优化
- **统一注册**: 统一工具注册与发现机制
- **参数验证**: 自动参数校验与类型转换
- **错误处理**: 工具执行错误恢复策略
- **结果缓存**: 工具调用结果智能缓存

### 5. 安全沙箱
- **权限控制**: 细粒度工具访问权限
- **资源限制**: CPU/内存/时间限制
- **审计日志**: 完整操作记录
- **隔离执行**: 危险操作沙箱隔离

