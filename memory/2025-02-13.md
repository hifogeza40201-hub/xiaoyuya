# 2025-02-13 学习日志

## 成果

### 1. 完成了 OpenClaw Gateway 命令行操作研究
- 研究目标: 总结常用管理命令和故障排查技巧
- 产出: `记忆/openclaw-gateway-cli-guide.md` - 详细的命令行操作指南

### 2. 主要发现

#### Gateway 服务管理
- `openclaw gateway status/start/stop/restart` - 基本服务控制
- `openclaw gateway install/uninstall` - 守护进程管理（systemd/launchd）

#### 配置管理
- `openclaw config get/set/show/validate` - 配置查看与修改
- 配置文件位于: `~/.openclaw/config.json5`

#### 节点管理
- `openclaw nodes list/describe/rename/remove` - 节点管理
- `openclaw nodes pending/approve/reject` - 配对管理
- `openclaw nodes token rotate/revoke` - 令牌管理

#### 其他重要模块
- 代理管理: `openclaw agents ...`
- 频道管理: `openclaw channels ...`
- 技能管理: `openclaw skills ...`
- 计划任务: `openclaw cron ...`
- 会话管理: `openclaw sessions ...`
- 执行审批: `openclaw exec-approvals ...`

#### 故障排查技巧
1. Gateway 无法启动: 使用 `openclaw gateway audit` 检查端口，检查日志
2. 节点连接问题: 检查 `openclaw nodes pending` 和 `openclaw gateway status`
3. 频道失败: 尝试重新登录 `openclaw channels logout/login`
4. 技能加载失败: 重新安装技能或查看详细日志

### 3. 重要环境变量
- `OPENCLAW_GATEWAY_TOKEN` - 认证令牌
- `OPENCLAW_GATEWAY_PORT` - 服务端口
- `OPENCLAW_CONFIG_PATH` - 配置文件路径
- `OPENCLAW_VERBOSE` - 详细日志模式

## 学习心得
- OpenClaw 采用模块化设计，各功能通过子命令组织
- Gateway 是核心服务，负责工具调度和节点通信
- 命令行工具支持 JSON 输出（`--json`），方便脚本化
- doctor 和 audit 工具提供了很好的自我诊断能力

## 下一步
- 可以进一步研究具体的配置选项和最佳实践
- 学习如何编写自定义技能和扩展
