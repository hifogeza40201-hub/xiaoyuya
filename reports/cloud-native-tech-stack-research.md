# äº‘åŸç”ŸæŠ€æœ¯æ ˆç ”ç©¶æŠ¥å‘Š

> ç ”ç©¶æ—¥æœŸï¼š2026-02-15  
> ç ”ç©¶ä¸»é¢˜ï¼šäº‘åŸç”ŸæŠ€æœ¯åŠå…¶åº”ç”¨  
> è´Ÿè´£Agentï¼šAgent 2

---

## ğŸ“‹ ç›®å½•

1. [æŠ€æœ¯æ ˆæ¦‚è§ˆ](#æŠ€æœ¯æ ˆæ¦‚è§ˆ)
2. [Dockerå®¹å™¨åŒ–åŸºç¡€ä¸æœ€ä½³å®è·µ](#dockerå®¹å™¨åŒ–åŸºç¡€ä¸æœ€ä½³å®è·µ)
3. [Kuberneteså…¥é—¨ä¸æ ¸å¿ƒæ¦‚å¿µ](#kuberneteså…¥é—¨ä¸æ ¸å¿ƒæ¦‚å¿µ)
4. [å¾®æœåŠ¡æ¶æ„è®¾è®¡](#å¾®æœåŠ¡æ¶æ„è®¾è®¡)
5. [CI/CDæµæ°´çº¿æ„å»º](#cicdæµæ°´çº¿æ„å»º)
6. [å­¦ä¹ ä¼˜å…ˆçº§](#å­¦ä¹ ä¼˜å…ˆçº§)
7. [å®è·µé¡¹ç›®å»ºè®®](#å®è·µé¡¹ç›®å»ºè®®)

---

## æŠ€æœ¯æ ˆæ¦‚è§ˆ

### äº‘åŸç”ŸæŠ€æœ¯å…¨æ™¯å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        åº”ç”¨å±‚ (Application)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å¾®æœåŠ¡  â”‚ â”‚ Serverless â”‚ â”‚   FaaS   â”‚ â”‚  è¾¹ç¼˜è®¡ç®— â”‚ â”‚  AI/ML  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      ç¼–æ’è°ƒåº¦å±‚ (Orchestration)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Kubernetes (å®¹å™¨ç¼–æ’)                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚  â”‚  â”‚  Service Mesh  â”‚ â”‚  Ingress  â”‚ â”‚  è‡ªåŠ¨æ‰©ç¼©å®¹  â”‚ â”‚  é…ç½®ç®¡ç† â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ (Istio/Linkerd)â”‚ â”‚ Controllerâ”‚ â”‚  (HPA/VPA) â”‚ â”‚ (ConfigMap)â”‚       â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      å®¹å™¨è¿è¡Œæ—¶å±‚ (Container Runtime)             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Docker  â”‚ â”‚containerdâ”‚ â”‚   CRI-O  â”‚ â”‚  Podman  â”‚ â”‚  Buildah â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      åŸºç¡€è®¾æ–½å±‚ (Infrastructure)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   å…¬æœ‰äº‘  â”‚ â”‚  ç§æœ‰äº‘  â”‚ â”‚  æ··åˆäº‘  â”‚ â”‚ è£¸é‡‘å±   â”‚ â”‚ è™šæ‹Ÿæœº   â”‚   â”‚
â”‚  â”‚(AWS/Azure)â”‚ â”‚(OpenStack)â”‚ â”‚         â”‚ â”‚         â”‚ â”‚ (VMWare) â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæŠ€æœ¯ç»„ä»¶

| å±‚çº§ | æ ¸å¿ƒç»„ä»¶ | ä»£è¡¨æŠ€æœ¯ | ä½œç”¨è¯´æ˜ |
|------|---------|---------|---------|
| **åº”ç”¨äº¤ä»˜** | CI/CD | Jenkins, GitLab CI, ArgoCD | è‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½² |
| **æœåŠ¡ç½‘æ ¼** | Service Mesh | Istio, Linkerd, Consul | æœåŠ¡é—´é€šä¿¡æ²»ç† |
| **å®¹å™¨ç¼–æ’** | Orchestration | Kubernetes, Docker Swarm | å®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç† |
| **å®¹å™¨è¿è¡Œ** | Container Runtime | Docker, containerd, CRI-O | å®¹å™¨åˆ›å»ºä¸è¿è¡Œ |
| **é•œåƒä»“åº“** | Registry | Harbor, Docker Hub, ECR | é•œåƒå­˜å‚¨ä¸åˆ†å‘ |
| **å¯è§‚æµ‹æ€§** | Observability | Prometheus, Grafana, ELK | ç›‘æ§ã€æ—¥å¿—ã€è¿½è¸ª |
| **åŸºç¡€è®¾æ–½** | IaaS | AWS, Azure, é˜¿é‡Œäº‘, OpenStack | è®¡ç®—ã€å­˜å‚¨ã€ç½‘ç»œèµ„æº |

---

## Dockerå®¹å™¨åŒ–åŸºç¡€ä¸æœ€ä½³å®è·µ

### 1. Dockeræ ¸å¿ƒæ¦‚å¿µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Docker æ¶æ„å›¾                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      Docker Client      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   docker    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Docker CLI  â”‚  â”‚
â”‚   â”‚   build     â”‚                         â”‚  (å‘½ä»¤è¡Œå·¥å…·) â”‚  â”‚
â”‚   â”‚   pull      â”‚                         â”‚              â”‚  â”‚
â”‚   â”‚   run       â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚   â”‚   push      â”‚                                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚          â”‚                                                  â”‚
â”‚          â–¼                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚              Docker Daemon (dockerd)                 â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚  â”‚  Images   â”‚  â”‚ Containersâ”‚  â”‚    Networks     â”‚  â”‚  â”‚
â”‚   â”‚  â”‚  (é•œåƒ)    â”‚  â”‚  (å®¹å™¨)   â”‚  â”‚    (ç½‘ç»œ)        â”‚  â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚  â”‚  Volumes  â”‚  â”‚  Registry â”‚  â”‚  Build Cache    â”‚  â”‚  â”‚
â”‚   â”‚  â”‚  (æ•°æ®å·)  â”‚  â”‚  (ä»“åº“)   â”‚  â”‚  (æ„å»ºç¼“å­˜)      â”‚  â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚           Container Runtime (containerd/runc)        â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚         Linux Kernel (cgroups, namespaces)           â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Dockerfileæœ€ä½³å®è·µ

#### åˆ†å±‚æ„å»ºåŸç†

```dockerfile
# âŒ ä¸æ¨èï¼šå¤šå±‚å†—ä½™
FROM ubuntu:22.04
RUN apt-get update
RUN apt-get install -y python3
RUN apt-get install -y python3-pip
RUN pip install flask
COPY . /app

# âœ… æ¨èï¼šåˆå¹¶æŒ‡ä»¤ï¼Œå‡å°‘å±‚æ•°
FROM ubuntu:22.04
RUN apt-get update && apt-get install -y \
    python3 \
    python3-pip \
    && rm -rf /var/lib/apt/lists/*
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . /app
WORKDIR /app
```

#### å¤šé˜¶æ®µæ„å»º

```dockerfile
# æ„å»ºé˜¶æ®µ
FROM golang:1.21-alpine AS builder
WORKDIR /app
COPY go.mod go.sum ./
RUN go mod download
COPY . .
RUN CGO_ENABLED=0 GOOS=linux go build -o main .

# è¿è¡Œé˜¶æ®µï¼ˆä»…åŒ…å«å¿…è¦æ–‡ä»¶ï¼‰
FROM alpine:latest
RUN apk --no-cache add ca-certificates
WORKDIR /root/
COPY --from=builder /app/main .
EXPOSE 8080
CMD ["./main"]
```

### 3. é•œåƒä¼˜åŒ–ç­–ç•¥

| ä¼˜åŒ–ç­–ç•¥ | è¯´æ˜ | æ•ˆæœ |
|---------|------|------|
| **é€‰æ‹©è½»é‡åŸºç¡€é•œåƒ** | ä½¿ç”¨alpineã€distrolessä»£æ›¿ubuntu | å‡å°‘50-80%é•œåƒå¤§å° |
| **å¤šé˜¶æ®µæ„å»º** | åˆ†ç¦»æ„å»ºå’Œè¿è¡Œç¯å¢ƒ | å‡å°‘æœ€ç»ˆé•œåƒä½“ç§¯ |
| **.dockerignore** | æ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶ | åŠ é€Ÿæ„å»ºï¼Œå‡å°‘ä¸Šä¸‹æ–‡ |
| **å±‚ç¼“å­˜ä¼˜åŒ–** | å°†ä¸å¸¸å˜çš„æŒ‡ä»¤æ”¾å‰é¢ | åŠ é€Ÿé‡å¤æ„å»º |
| **æ¸…ç†ç¼“å­˜** | apt/yumæ¸…ç†ç¼“å­˜æ–‡ä»¶ | å‡å°‘é•œåƒå±‚å¤§å° |

### 4. å®¹å™¨å®‰å…¨æœ€ä½³å®è·µ

```dockerfile
# âœ… å®‰å…¨å®è·µç¤ºä¾‹
FROM node:18-alpine

# ä½¿ç”¨érootç”¨æˆ·è¿è¡Œ
RUN addgroup -g 1001 -S nodejs && \
    adduser -S nodejs -u 1001

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# å…ˆå¤åˆ¶ä¾èµ–æ–‡ä»¶ï¼ˆåˆ©ç”¨ç¼“å­˜å±‚ï¼‰
COPY package*.json ./
RUN npm ci --only=production && npm cache clean --force

# å¤åˆ¶åº”ç”¨ä»£ç 
COPY --chown=nodejs:nodejs . .

# åˆ‡æ¢åˆ°érootç”¨æˆ·
USER nodejs

# å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
    CMD curl -f http://localhost:3000/health || exit 1

EXPOSE 3000
CMD ["node", "server.js"]
```

### 5. å¸¸ç”¨Dockerå‘½ä»¤é€ŸæŸ¥

```bash
# é•œåƒç®¡ç†
docker build -t myapp:1.0 .           # æ„å»ºé•œåƒ
docker images                          # æŸ¥çœ‹é•œåƒåˆ—è¡¨
docker rmi image_id                    # åˆ é™¤é•œåƒ
docker push registry/myapp:1.0         # æ¨é€é•œåƒ

# å®¹å™¨ç®¡ç†
docker run -d -p 8080:80 --name web nginx   # è¿è¡Œå®¹å™¨
docker ps                              # æŸ¥çœ‹è¿è¡Œå®¹å™¨
docker ps -a                           # æŸ¥çœ‹æ‰€æœ‰å®¹å™¨
docker exec -it container_id /bin/sh   # è¿›å…¥å®¹å™¨
docker logs -f container_id            # æŸ¥çœ‹æ—¥å¿—
docker stop/start/restart container_id # å¯åœå®¹å™¨

# æ•°æ®ç®¡ç†
docker volume create myvol             # åˆ›å»ºæ•°æ®å·
docker run -v myvol:/data myapp        # æŒ‚è½½æ•°æ®å·
docker run -v $(pwd):/app myapp        # æŒ‚è½½ä¸»æœºç›®å½•
```

---

## Kuberneteså…¥é—¨ä¸æ ¸å¿ƒæ¦‚å¿µ

### 1. K8sæ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Kubernetes é›†ç¾¤æ¶æ„                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                      Control Plane (æ§åˆ¶å¹³é¢)                 â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚  â”‚
â”‚   â”‚  â”‚ API Server  â”‚ â”‚   etcd      â”‚ â”‚  Scheduler  â”‚           â”‚  â”‚
â”‚   â”‚  â”‚  (APIæ¥å£)   â”‚ â”‚ (æ•°æ®å­˜å‚¨)   â”‚ â”‚  (è°ƒåº¦å™¨)   â”‚           â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚  â”‚
â”‚   â”‚  â”‚ Controller  â”‚ â”‚   Cloud     â”‚                           â”‚  â”‚
â”‚   â”‚  â”‚   Manager   â”‚ â”‚  Controller â”‚                           â”‚  â”‚
â”‚   â”‚  â”‚ (æ§åˆ¶å™¨ç®¡ç†å™¨)â”‚ â”‚  (äº‘æ§åˆ¶å™¨)  â”‚                           â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚                              â–²                                      â”‚
â”‚                              â”‚ é€šè¿‡API Serveré€šä¿¡                    â”‚
â”‚                              â–¼                                      â”‚
â”‚                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                    Worker Node (å·¥ä½œèŠ‚ç‚¹)                     â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚  â”‚
â”‚   â”‚  â”‚   kubelet   â”‚ â”‚ kube-proxy  â”‚ â”‚  Container  â”‚           â”‚  â”‚
â”‚   â”‚  â”‚  (èŠ‚ç‚¹ä»£ç†)  â”‚ â”‚  (ç½‘ç»œä»£ç†)  â”‚ â”‚  Runtime    â”‚           â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ (docker/    â”‚           â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ containerd) â”‚           â”‚  â”‚
â”‚   â”‚  â”‚         Pods (å®¹å™¨ç»„)        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚  â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”   â”‚                           â”‚  â”‚
â”‚   â”‚  â”‚  â”‚Pod 1â”‚ â”‚Pod 2â”‚ â”‚Pod 3â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚  â”‚  â”‚[app]â”‚ â”‚[app]â”‚ â”‚[app]â”‚   â”‚  â”‚     Services        â”‚  â”‚  â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  (ClusterIP/NodePort) â”‚  â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                    Worker Node (å·¥ä½œèŠ‚ç‚¹)                     â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚   â”‚  â”‚                    Pods                             â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”   â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚Pod 4â”‚ â”‚Pod 5â”‚ â”‚Pod 6â”‚ â”‚Pod 7â”‚ â”‚Pod 8â”‚ â”‚Pod 9â”‚   â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜   â”‚   â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ ¸å¿ƒèµ„æºå¯¹è±¡

#### Pod - æœ€å°éƒ¨ç½²å•å…ƒ

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: myapp-pod
  labels:
    app: myapp
    tier: frontend
spec:
  containers:
  - name: myapp-container
    image: nginx:alpine
    ports:
    - containerPort: 80
    resources:
      requests:
        memory: "64Mi"
        cpu: "250m"
      limits:
        memory: "128Mi"
        cpu: "500m"
    livenessProbe:
      httpGet:
        path: /health
        port: 80
      initialDelaySeconds: 30
      periodSeconds: 10
```

#### Deployment - æ— çŠ¶æ€åº”ç”¨ç®¡ç†

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: web-deployment
spec:
  replicas: 3                    # å‰¯æœ¬æ•°é‡
  strategy:
    type: RollingUpdate          # æ»šåŠ¨æ›´æ–°ç­–ç•¥
    rollingUpdate:
      maxSurge: 1                # æœ€å¤§é¢å¤–Podæ•°
      maxUnavailable: 0          # æœ€å¤§ä¸å¯ç”¨Podæ•°
  selector:
    matchLabels:
      app: web
  template:
    metadata:
      labels:
        app: web
    spec:
      containers:
      - name: web
        image: nginx:1.25
        ports:
        - containerPort: 80
        resources:
          requests:
            memory: "128Mi"
            cpu: "100m"
          limits:
            memory: "256Mi"
            cpu: "200m"
```

#### Service - æœåŠ¡æš´éœ²

```yaml
# ClusterIP - é›†ç¾¤å†…éƒ¨è®¿é—®
apiVersion: v1
kind: Service
metadata:
  name: web-service
spec:
  type: ClusterIP
  selector:
    app: web
  ports:
  - port: 80
    targetPort: 80

---
# NodePort - èŠ‚ç‚¹ç«¯å£æš´éœ²
apiVersion: v1
kind: Service
metadata:
  name: web-nodeport
spec:
  type: NodePort
  selector:
    app: web
  ports:
  - port: 80
    targetPort: 80
    nodePort: 30080   # 30000-32767

---
# LoadBalancer - äº‘è´Ÿè½½å‡è¡¡å™¨
apiVersion: v1
kind: Service
metadata:
  name: web-lb
spec:
  type: LoadBalancer
  selector:
    app: web
  ports:
  - port: 80
    targetPort: 80
```

#### ConfigMap & Secret - é…ç½®ç®¡ç†

```yaml
# ConfigMap
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
data:
  database_url: "postgres://db:5432/myapp"
  log_level: "info"
  app.properties: |
    key1=value1
    key2=value2

---
# Secret
apiVersion: v1
kind: Secret
metadata:
  name: db-credentials
type: Opaque
data:
  username: YWRtaW4=      # base64ç¼–ç 
  password: c2VjcmV0MTIz  # base64ç¼–ç 
```

### 3. K8sæ ¸å¿ƒæ¦‚å¿µæ€»ç»“

| æ¦‚å¿µ | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|------|------|---------|
| **Pod** | æœ€å°éƒ¨ç½²å•å…ƒï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ | è¿è¡Œåº”ç”¨å®¹å™¨ |
| **Deployment** | ç®¡ç†Podçš„å£°æ˜å¼æ›´æ–° | æ— çŠ¶æ€åº”ç”¨éƒ¨ç½² |
| **StatefulSet** | æœ‰çŠ¶æ€åº”ç”¨ç®¡ç† | æ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ— |
| **DaemonSet** | æ¯ä¸ªèŠ‚ç‚¹è¿è¡Œä¸€ä¸ªPod | æ—¥å¿—æ”¶é›†ã€ç›‘æ§ä»£ç† |
| **Job/CronJob** | æ‰¹å¤„ç†ä»»åŠ¡ | å®šæ—¶ä»»åŠ¡ã€æ•°æ®å¤„ç† |
| **Service** | Podçš„æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡ | æœåŠ¡æš´éœ² |
| **Ingress** | HTTP/HTTPSè·¯ç”± | ä¸ƒå±‚æµé‡å…¥å£ |
| **PV/PVC** | æŒä¹…åŒ–å­˜å‚¨ | æ•°æ®æŒä¹…åŒ– |
| **Namespace** | èµ„æºéš”ç¦» | å¤šç§Ÿæˆ·ã€ç¯å¢ƒéš”ç¦» |
| **HPA** | æ°´å¹³Podè‡ªåŠ¨æ‰©ç¼©å®¹ | æ ¹æ®è´Ÿè½½è‡ªåŠ¨æ‰©å®¹ |

### 4. å¸¸ç”¨kubectlå‘½ä»¤

```bash
# é›†ç¾¤ä¿¡æ¯
kubectl cluster-info              # æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯
kubectl get nodes                 # æŸ¥çœ‹èŠ‚ç‚¹
kubectl describe node node-1      # æŸ¥çœ‹èŠ‚ç‚¹è¯¦æƒ…

# Podæ“ä½œ
kubectl get pods -n namespace     # æŸ¥çœ‹Pod
kubectl get pods -o wide          # æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
kubectl describe pod pod-name     # æŸ¥çœ‹Podè¯¦æƒ…
kubectl logs pod-name -f          # æŸ¥çœ‹æ—¥å¿—
kubectl exec -it pod-name -- /bin/sh  # è¿›å…¥å®¹å™¨
kubectl delete pod pod-name       # åˆ é™¤Pod

# Deploymentæ“ä½œ
kubectl get deployments           # æŸ¥çœ‹Deployment
kubectl apply -f deployment.yaml  # åº”ç”¨é…ç½®
kubectl rollout status deploy/web # æŸ¥çœ‹æ»šåŠ¨çŠ¶æ€
kubectl rollout history deploy/web # æŸ¥çœ‹å†å²ç‰ˆæœ¬
kubectl rollout undo deploy/web   # å›æ»š
kubectl scale deploy/web --replicas=5  # æ‰©ç¼©å®¹

# Serviceæ“ä½œ
kubectl get svc                   # æŸ¥çœ‹Service
kubectl port-forward svc/web 8080:80  # ç«¯å£è½¬å‘
```

---

## å¾®æœåŠ¡æ¶æ„è®¾è®¡

### 1. å¾®æœåŠ¡æ¶æ„æ¼”è¿›

```
å•ä½“æ¶æ„ (Monolithic)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Web Application                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   UI    â”‚  Auth   â”‚ Businessâ”‚  Data   â”‚     â”‚
â”‚  â”‚  Layer  â”‚ Service â”‚  Logic  â”‚  Layer  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚              Single Database                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ ä¸šåŠ¡å¢é•¿ï¼Œå›¢é˜Ÿæ‰©å¤§
å¾®æœåŠ¡æ¶æ„ (Microservices)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ API     â”‚ â”‚  User   â”‚ â”‚  Order  â”‚ â”‚Payment â”‚ â”‚
â”‚  â”‚ Gateway â”‚ â”‚ Service â”‚ â”‚ Service â”‚ â”‚Service â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚              Service Mesh (Istio)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  User   â”‚ â”‚  Order  â”‚ â”‚ Payment â”‚ â”‚Notificationâ”‚
â”‚  â”‚   DB    â”‚ â”‚   DB    â”‚ â”‚   DB    â”‚ â”‚   Queue    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. å¾®æœåŠ¡è®¾è®¡åŸåˆ™

| åŸåˆ™ | è¯´æ˜ | å®è·µå»ºè®® |
|------|------|---------|
| **å•ä¸€èŒè´£** | æ¯ä¸ªæœåŠ¡åªè´Ÿè´£ä¸€ä¸ªä¸šåŠ¡é¢†åŸŸ | æŒ‰ä¸šåŠ¡èƒ½åŠ›æ‹†åˆ†ï¼ŒéæŠ€æœ¯æ‹†åˆ† |
| **ç‹¬ç«‹éƒ¨ç½²** | æœåŠ¡å¯ç‹¬ç«‹æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½² | ä½¿ç”¨CI/CDæµæ°´çº¿è‡ªåŠ¨åŒ– |
| **å»ä¸­å¿ƒåŒ–** | æŠ€æœ¯æ ˆã€æ•°æ®å­˜å‚¨ç‹¬ç«‹é€‰æ‹© | æ ¹æ®åœºæ™¯é€‰æ‹©æœ€åˆé€‚çš„æŠ€æœ¯ |
| **æ•…éšœéš”ç¦»** | å•ç‚¹æ•…éšœä¸å½±å“æ•´ä½“ç³»ç»Ÿ | ç†”æ–­ã€é™çº§ã€é™æµ |
| **å¼¹æ€§è®¾è®¡** | æœåŠ¡å¯æ°´å¹³æ‰©å±• | æ— çŠ¶æ€è®¾è®¡ï¼Œé…ç½®å¤–éƒ¨åŒ– |
| **APIä¼˜å…ˆ** | é€šè¿‡APIå¥‘çº¦é€šä¿¡ | OpenAPI/Swaggerå®šä¹‰æ¥å£ |

### 3. æœåŠ¡æ‹†åˆ†ç­–ç•¥

```
æŒ‰ä¸šåŠ¡èƒ½åŠ›æ‹†åˆ† (Domain-Driven Design)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”µå•†å¹³å°                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç”¨æˆ·åŸŸ      â”‚  å•†å“åŸŸ      â”‚  è®¢å•åŸŸ      â”‚  æ”¯ä»˜åŸŸ        â”‚
â”‚  â”œâ”€ç”¨æˆ·ç®¡ç†  â”‚  â”œâ”€å•†å“ç®¡ç†  â”‚  â”œâ”€è´­ç‰©è½¦    â”‚  â”œâ”€æ”¯ä»˜å¤„ç†    â”‚
â”‚  â”œâ”€æƒé™è®¤è¯  â”‚  â”œâ”€åº“å­˜ç®¡ç†  â”‚  â”œâ”€è®¢å•åˆ›å»º  â”‚  â”œâ”€é€€æ¬¾å¤„ç†    â”‚
â”‚  â”œâ”€ç”¨æˆ·ç”»åƒ  â”‚  â”œâ”€ç±»ç›®ç®¡ç†  â”‚  â”œâ”€è®¢å•æŸ¥è¯¢  â”‚  â”œâ”€å¯¹è´¦ç»“ç®—    â”‚
â”‚  â””â”€ç§¯åˆ†ç³»ç»Ÿ  â”‚  â””â”€æœç´¢æ¨è  â”‚  â””â”€è®¢å•çŠ¶æ€  â”‚  â””â”€å‘ç¥¨ç®¡ç†    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æŒ‰å­åŸŸæ‹†åˆ† (Subdomain)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ ¸å¿ƒåŸŸ (Core Domain)  â”‚ æ”¯æ’‘åŸŸ (Supporting) â”‚ é€šç”¨åŸŸ    â”‚
â”‚  â”œâ”€è®¢å•å¤„ç†            â”‚ â”œâ”€åº“å­˜ç®¡ç†          â”‚ â”œâ”€ç”¨æˆ·è®¤è¯â”‚
â”‚  â”œâ”€æ”¯ä»˜ç»“ç®—            â”‚ â”œâ”€ç‰©æµè·Ÿè¸ª          â”‚ â”œâ”€æ¶ˆæ¯é€šçŸ¥â”‚
â”‚  â””â”€æ¨èç®—æ³•            â”‚ â””â”€æŠ¥è¡¨ç»Ÿè®¡          â”‚ â””â”€æ–‡ä»¶å­˜å‚¨â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. æœåŠ¡é—´é€šä¿¡æ¨¡å¼

```
åŒæ­¥é€šä¿¡ (Synchronous)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTP/gRPC    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Service â”‚
â”‚    A    â”‚                 â”‚    B    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
é€‚ç”¨åœºæ™¯ï¼šå®æ—¶æ€§è¦æ±‚é«˜ï¼Œå¼ºä¸€è‡´æ€§éœ€æ±‚

å¼‚æ­¥é€šä¿¡ (Asynchronous)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   Publish    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   Subscribe   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Messageâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Service â”‚
â”‚    A    â”‚              â”‚  Queue  â”‚               â”‚    B    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ (Kafka/ â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ RabbitMQ)â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
é€‚ç”¨åœºæ™¯ï¼šå‰Šå³°å¡«è°·ï¼Œæœ€ç»ˆä¸€è‡´æ€§ï¼Œè§£è€¦åˆ
```

### 5. Service Mesh æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Service Mesh (Istio)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Service â”‚     â”‚ Service â”‚     â”‚ Service â”‚     â”‚ Service â”‚   â”‚
â”‚  â”‚    A    â”‚     â”‚    B    â”‚     â”‚    C    â”‚     â”‚    D    â”‚   â”‚
â”‚  â”‚ [App]   â”‚     â”‚ [App]   â”‚     â”‚ [App]   â”‚     â”‚ [App]   â”‚   â”‚
â”‚  â”‚ [Envoy] â”‚â—„â”€â”€â”€â–ºâ”‚ [Envoy] â”‚â—„â”€â”€â”€â–ºâ”‚ [Envoy] â”‚â—„â”€â”€â”€â–ºâ”‚ [Envoy] â”‚   â”‚
â”‚  â”‚(Sidecar)â”‚     â”‚(Sidecar)â”‚     â”‚(Sidecar)â”‚     â”‚(Sidecar)â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚               â”‚               â”‚               â”‚         â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                       æ•°æ®å¹³é¢ (Data Plane)                      â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    æ§åˆ¶å¹³é¢ (Control Plane)              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ Pilot   â”‚  â”‚ Mixer   â”‚  â”‚ Citadel â”‚  â”‚ Galley  â”‚    â”‚   â”‚
â”‚  â”‚  â”‚(æœåŠ¡å‘ç°)â”‚  â”‚(ç­–ç•¥æ§åˆ¶)â”‚  â”‚(è¯ä¹¦ç®¡ç†)â”‚  â”‚(é…ç½®éªŒè¯)â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6. å¾®æœåŠ¡æŠ€æœ¯æ ˆæ¨è

| é¢†åŸŸ | æ¨èæŠ€æœ¯ | å¤‡é€‰æ–¹æ¡ˆ |
|------|---------|---------|
| **APIç½‘å…³** | Kong, Traefik, APISIX | Nginx, Spring Cloud Gateway |
| **æœåŠ¡æ³¨å†Œå‘ç°** | Consul, Nacos, etcd | Eureka, Zookeeper |
| **é…ç½®ä¸­å¿ƒ** | Nacos, Apollo, Consul | Spring Cloud Config |
| **æœåŠ¡è°ƒç”¨** | OpenFeign, Dubbo, gRPC | REST Template, WebClient |
| **ç†”æ–­é™æµ** | Sentinel, Hystrix | Resilience4j |
| **åˆ†å¸ƒå¼è¿½è¸ª** | Jaeger, Zipkin | SkyWalking |
| **æ¶ˆæ¯é˜Ÿåˆ—** | RocketMQ, Kafka, RabbitMQ | ActiveMQ, Pulsar |
| **åˆ†å¸ƒå¼äº‹åŠ¡** | Seata | Sagaæ¨¡å¼ï¼ŒTCC |

---

## CI/CDæµæ°´çº¿æ„å»º

### 1. CI/CDæµç¨‹æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CI/CD Pipeline æµç¨‹                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  å¼€å‘é˜¶æ®µ                    é›†æˆé˜¶æ®µ                    éƒ¨ç½²é˜¶æ®µ        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ä»£ç æäº¤  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ ä»£ç æ„å»º  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ éƒ¨ç½²ä¸Šçº¿  â”‚      â”‚
â”‚  â”‚  (Push)  â”‚              â”‚  (Build) â”‚              â”‚ (Deploy) â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚       â”‚                         â”‚                         â”‚             â”‚
â”‚       â–¼                         â–¼                         â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  1. ä»£ç æ‰«æ (SonarQube)                                      â”‚      â”‚
â”‚  â”‚  2. å•å…ƒæµ‹è¯• (JUnit/Jest)                                     â”‚      â”‚
â”‚  â”‚  3. é›†æˆæµ‹è¯• (API Test)                                       â”‚      â”‚
â”‚  â”‚  4. å®‰å…¨æ‰«æ (SAST/DAST)                                      â”‚      â”‚
â”‚  â”‚  5. æ„å»ºé•œåƒ (Docker Build)                                   â”‚      â”‚
â”‚  â”‚  6. é•œåƒæ‰«æ (Trivy/Snyk)                                     â”‚      â”‚
â”‚  â”‚  7. æ¨é€é•œåƒ (Push to Registry)                               â”‚      â”‚
â”‚  â”‚  8. éƒ¨ç½²åˆ°K8s (kubectl/Helm)                                  â”‚      â”‚
â”‚  â”‚  9. å¥åº·æ£€æŸ¥ (Health Check)                                   â”‚      â”‚
â”‚  â”‚ 10. é€šçŸ¥åé¦ˆ (Slack/Email)                                    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. GitLab CI/CD é…ç½®ç¤ºä¾‹

```yaml
# .gitlab-ci.yml
stages:
  - build
  - test
  - security
  - package
  - deploy

variables:
  DOCKER_REGISTRY: "registry.example.com"
  IMAGE_NAME: "$DOCKER_REGISTRY/$CI_PROJECT_NAME"
  DOCKER_DRIVER: overlay2

# æ„å»ºé˜¶æ®µ
build:
  stage: build
  image: node:18-alpine
  cache:
    paths:
      - node_modules/
  script:
    - npm ci --cache .npm --prefer-offline
    - npm run build
  artifacts:
    paths:
      - dist/
    expire_in: 1 hour

# å•å…ƒæµ‹è¯•
test:unit:
  stage: test
  image: node:18-alpine
  script:
    - npm ci
    - npm run test:unit -- --coverage
  coverage: '/All files[^|]*\|[^|]*\s+([\d\.]+)/'
  artifacts:
    reports:
      coverage_report:
        coverage_format: cobertura
        path: coverage/cobertura-coverage.xml
    paths:
      - coverage/

# é›†æˆæµ‹è¯•
test:integration:
  stage: test
  image: node:18-alpine
  services:
    - postgres:15-alpine
    - redis:7-alpine
  variables:
    POSTGRES_DB: test
    POSTGRES_USER: test
    POSTGRES_PASSWORD: test
  script:
    - npm ci
    - npm run test:integration

# ä»£ç è´¨é‡æ‰«æ
sonarqube:
  stage: test
  image: sonarsource/sonar-scanner-cli:latest
  script:
    - sonar-scanner
      -Dsonar.projectKey=$CI_PROJECT_NAME
      -Dsonar.sources=.
      -Dsonar.host.url=$SONAR_URL
      -Dsonar.login=$SONAR_TOKEN

# å®‰å…¨æ‰«æ
security:dependency:
  stage: security
  image: node:18-alpine
  script:
    - npm audit --audit-level=moderate
  allow_failure: true

security:sast:
  stage: security
  image: returntocorp/semgrep
  script:
    - semgrep --config=auto --json --output=semgrep.json .
  artifacts:
    reports:
      sast: semgrep.json

# Dockeré•œåƒæ„å»º
package:image:
  stage: package
  image: docker:24-dind
  services:
    - docker:24-dind
  before_script:
    - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY
  script:
    - docker build -t $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA .
    - docker build -t $CI_REGISTRY_IMAGE:latest .
    - docker push $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA
    - docker push $CI_REGISTRY_IMAGE:latest

# é•œåƒå®‰å…¨æ‰«æ
security:image-scan:
  stage: security
  image: aquasec/trivy:latest
  script:
    - trivy image --exit-code 1 --severity HIGH,CRITICAL $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA
  allow_failure: true

# éƒ¨ç½²åˆ°å¼€å‘ç¯å¢ƒ
deploy:dev:
  stage: deploy
  image: bitnami/kubectl:latest
  environment:
    name: development
    url: https://dev.example.com
  script:
    - kubectl config use-context dev
    - kubectl set image deployment/app app=$CI_REGISTRY_IMAGE:$CI_COMMIT_SHA -n dev
    - kubectl rollout status deployment/app -n dev --timeout=300s
  only:
    - develop

# éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
deploy:prod:
  stage: deploy
  image: bitnami/kubectl:latest
  environment:
    name: production
    url: https://prod.example.com
  script:
    - kubectl config use-context prod
    - kubectl set image deployment/app app=$CI_REGISTRY_IMAGE:$CI_COMMIT_SHA -n prod
    - kubectl rollout status deployment/app -n prod --timeout=300s
  when: manual
  only:
    - main
```

### 3. GitHub Actions é…ç½®ç¤ºä¾‹

```yaml
# .github/workflows/ci-cd.yml
name: CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}

jobs:
  # æ„å»ºå’Œæµ‹è¯•
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        cache: 'npm'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Run linter
      run: npm run lint
    
    - name: Run unit tests
      run: npm run test:unit -- --coverage
    
    - name: Upload coverage
      uses: codecov/codecov-action@v3
      with:
        files: ./coverage/lcov.info

  # å®‰å…¨æ‰«æ
  security:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Run Trivy vulnerability scanner
      uses: aquasecurity/trivy-action@master
      with:
        scan-type: 'fs'
        scan-ref: '.'
        format: 'sarif'
        output: 'trivy-results.sarif'
    
    - name: Upload Trivy scan results
      uses: github/codeql-action/upload-sarif@v2
      with:
        sarif_file: 'trivy-results.sarif'

  # æ„å»ºDockeré•œåƒ
  docker:
    needs: [build, security]
    runs-on: ubuntu-latest
    permissions:
      contents: read
      packages: write
    steps:
    - uses: actions/checkout@v4
    
    - name: Set up Docker Buildx
      uses: docker/setup-buildx-action@v3
    
    - name: Login to Container Registry
      uses: docker/login-action@v3
      with:
        registry: ${{ env.REGISTRY }}
        username: ${{ github.actor }}
        password: ${{ secrets.GITHUB_TOKEN }}
    
    - name: Extract metadata
      id: meta
      uses: docker/metadata-action@v5
      with:
        images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}
        tags: |
          type=ref,event=branch
          type=ref,event=pr
          type=sha,prefix=,suffix=,format=short
    
    - name: Build and push
      uses: docker/build-push-action@v5
      with:
        context: .
        push: true
        tags: ${{ steps.meta.outputs.tags }}
        labels: ${{ steps.meta.outputs.labels }}
        cache-from: type=gha
        cache-to: type=gha,mode=max

  # éƒ¨ç½²åˆ°Kubernetes
  deploy:
    needs: docker
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
    - uses: actions/checkout@v4
    
    - name: Setup kubectl
      uses: azure/setup-kubectl@v3
      with:
        version: 'v1.28.0'
    
    - name: Configure kubectl
      run: |
        echo "${{ secrets.KUBE_CONFIG }}" | base64 -d > kubeconfig
        export KUBECONFIG=kubeconfig
    
    - name: Deploy to Kubernetes
      run: |
        kubectl set image deployment/app \
          app=${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.sha }} \
          -n production
        kubectl rollout status deployment/app -n production
```

### 4. ArgoCD GitOps éƒ¨ç½²

```yaml
# application.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: myapp
  namespace: argocd
spec:
  project: default
  source:
    repoURL: https://github.com/example/myapp-gitops.git
    targetRevision: HEAD
    path: overlays/production
    helm:
      valueFiles:
        - values.yaml
  destination:
    server: https://kubernetes.default.svc
    namespace: production
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
      - CreateNamespace=true
```

### 5. CI/CDå·¥å…·å¯¹æ¯”

| å·¥å…· | ç±»å‹ | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|------|---------|
| **Jenkins** | è‡ªæ‰˜ç®¡ | æ’ä»¶ä¸°å¯Œï¼Œé«˜åº¦å¯å®šåˆ¶ | ä¼ ç»Ÿä¼ä¸šï¼Œå¤æ‚æµæ°´çº¿ |
| **GitLab CI** | ä¸€ä½“åŒ– | ä¸GitLabæ·±åº¦é›†æˆ | GitLabç”¨æˆ·ï¼ŒDevOpså¹³å° |
| **GitHub Actions** | äº‘åŸç”Ÿ | GitHubç”Ÿæ€ï¼Œå¸‚åœºä¸°å¯Œ | GitHubç”¨æˆ·ï¼Œå¼€æºé¡¹ç›® |
| **CircleCI** | äº‘æ‰˜ç®¡ | é…ç½®ç®€æ´ï¼Œå¹¶è¡Œé«˜æ•ˆ | å¿«é€Ÿè¿­ä»£å›¢é˜Ÿ |
| **Travis CI** | äº‘æ‰˜ç®¡ | å¼€æºå‹å¥½ | å¼€æºé¡¹ç›® |
| **ArgoCD** | GitOps | å£°æ˜å¼éƒ¨ç½²ï¼Œå›æ»šæ–¹ä¾¿ | Kubernetesç¯å¢ƒ |
| **Tekton** | K8såŸç”Ÿ | äº‘åŸç”Ÿè®¾è®¡ï¼Œå¯ç»„åˆ | äº‘åŸç”Ÿåº”ç”¨ |

---

## å­¦ä¹ ä¼˜å…ˆçº§

### æ¨èå­¦ä¹ è·¯å¾„

```
é˜¶æ®µ1: åŸºç¡€é˜¶æ®µ (1-2å‘¨)
â”œâ”€ DockeråŸºç¡€
â”‚   â”œâ”€ é•œåƒã€å®¹å™¨ã€ä»“åº“æ¦‚å¿µ
â”‚   â”œâ”€ Dockerfileç¼–å†™
â”‚   â””â”€ å¸¸ç”¨å‘½ä»¤æ“ä½œ
â”œâ”€ LinuxåŸºç¡€
â”‚   â”œâ”€ å¸¸ç”¨å‘½ä»¤
â”‚   â”œâ”€ ç½‘ç»œåŸºç¡€
â”‚   â””â”€ Shellè„šæœ¬
â””â”€ Gitç‰ˆæœ¬æ§åˆ¶
    â”œâ”€ åŸºæœ¬æ“ä½œ
    â””â”€ åˆ†æ”¯ç®¡ç†

é˜¶æ®µ2: å®¹å™¨ç¼–æ’ (2-3å‘¨)
â”œâ”€ Kubernetesæ ¸å¿ƒæ¦‚å¿µ
â”‚   â”œâ”€ Pod/Deployment/Service
â”‚   â”œâ”€ ConfigMap/Secret
â”‚   â”œâ”€ Ingress
â”‚   â””â”€ Namespace
â”œâ”€ kubectlæ“ä½œ
â”œâ”€ èµ„æºç®¡ç†
â””â”€ åŸºæœ¬æ•…éšœæ’æŸ¥

é˜¶æ®µ3: å¾®æœåŠ¡å®è·µ (3-4å‘¨)
â”œâ”€ å¾®æœåŠ¡è®¾è®¡åŸåˆ™
â”œâ”€ æœåŠ¡æ‹†åˆ†ç­–ç•¥
â”œâ”€ APIè®¾è®¡ä¸ç‰ˆæœ¬ç®¡ç†
â”œâ”€ æœåŠ¡é—´é€šä¿¡
â””â”€ æœåŠ¡å‘ç°ä¸æ³¨å†Œ

é˜¶æ®µ4: CI/CDè¿›é˜¶ (2-3å‘¨)
â”œâ”€ CI/CDæ¦‚å¿µä¸æµç¨‹
â”œâ”€ Jenkins/GitLab CI/GitHub Actions
â”œâ”€ è‡ªåŠ¨åŒ–æµ‹è¯•é›†æˆ
â”œâ”€ é•œåƒä»“åº“ç®¡ç†
â””â”€ GitOpså®è·µ

é˜¶æ®µ5: ç”Ÿäº§å®è·µ (æŒç»­)
â”œâ”€ å¯è§‚æµ‹æ€§ (ç›‘æ§/æ—¥å¿—/è¿½è¸ª)
â”œâ”€ æœåŠ¡ç½‘æ ¼ (Istio)
â”œâ”€ å®‰å…¨å®è·µ
â”œâ”€ æ€§èƒ½ä¼˜åŒ–
â””â”€ å¤šé›†ç¾¤ç®¡ç†
```

### ä¼˜å…ˆçº§çŸ©é˜µ

| æŠ€æœ¯é¢†åŸŸ | ä¼˜å…ˆçº§ | éš¾åº¦ | å»ºè®®æŠ•å…¥æ—¶é—´ | äº§å‡ºæ•ˆæœ |
|---------|-------|------|-------------|---------|
| DockeråŸºç¡€ | â­â­â­â­â­ | ä½ | 1å‘¨ | é«˜ |
| Kubernetesæ ¸å¿ƒ | â­â­â­â­â­ | ä¸­ | 3å‘¨ | é«˜ |
| kubectlæ“ä½œ | â­â­â­â­â­ | ä½ | 1å‘¨ | é«˜ |
| CI/CDåŸºç¡€ | â­â­â­â­ | ä¸­ | 2å‘¨ | é«˜ |
| å¾®æœåŠ¡è®¾è®¡ | â­â­â­â­ | é«˜ | 3å‘¨ | ä¸­ |
| HelmåŒ…ç®¡ç† | â­â­â­â­ | ä¸­ | 1å‘¨ | ä¸­ |
| æœåŠ¡ç½‘æ ¼ | â­â­â­ | é«˜ | 2å‘¨ | ä¸­ |
| å¯è§‚æµ‹æ€§ | â­â­â­â­ | ä¸­ | 2å‘¨ | ä¸­ |
| GitOps | â­â­â­ | ä¸­ | 1å‘¨ | ä¸­ |
| å¤šé›†ç¾¤ç®¡ç† | â­â­ | é«˜ | 2å‘¨ | ä½ |

---

## å®è·µé¡¹ç›®å»ºè®®

### é¡¹ç›®1: ä¸ªäººåšå®¢ç³»ç»Ÿ (å…¥é—¨)

**ç›®æ ‡**: æŒæ¡Dockerå’ŒåŸºç¡€K8s

```
æŠ€æœ¯æ ˆ:
â”œâ”€â”€ å‰ç«¯: React/Vue + Nginx
â”œâ”€â”€ åç«¯: Node.js/Python Flask
â”œâ”€â”€ æ•°æ®åº“: PostgreSQL/MySQL
â”œâ”€â”€ ç¼“å­˜: Redis
â””â”€â”€ éƒ¨ç½²: Docker + Docker Compose

å®è·µè¦ç‚¹:
1. ç¼–å†™ä¼˜åŒ–çš„Dockerfile (å¤šé˜¶æ®µæ„å»º)
2. ä½¿ç”¨Docker Composeæœ¬åœ°å¼€å‘
3. ç¼–å†™K8séƒ¨ç½²æ–‡ä»¶ (Deployment/Service/Ingress)
4. é…ç½®å¥åº·æ£€æŸ¥å’Œèµ„æºé™åˆ¶
5. å®ç°æ»šåŠ¨æ›´æ–°
```

### é¡¹ç›®2: å¾®æœåŠ¡ç”µå•†ç³»ç»Ÿ (è¿›é˜¶)

**ç›®æ ‡**: æŒæ¡å¾®æœåŠ¡æ¶æ„å’ŒCI/CD

```
æŠ€æœ¯æ ˆ:
â”œâ”€â”€ APIç½‘å…³: Kong/Spring Cloud Gateway
â”œâ”€â”€ ç”¨æˆ·æœåŠ¡: Spring Boot / Node.js
â”œâ”€â”€ å•†å“æœåŠ¡: Spring Boot / Go
â”œâ”€â”€ è®¢å•æœåŠ¡: Spring Boot / Python
â”œâ”€â”€ æ”¯ä»˜æœåŠ¡: ç‹¬ç«‹æœåŠ¡
â”œâ”€â”€ æ¶ˆæ¯é˜Ÿåˆ—: RabbitMQ / Kafka
â”œâ”€â”€ æ•°æ®åº“: MySQL + MongoDB + Redis
â”œâ”€â”€ æœç´¢: Elasticsearch
â””â”€â”€ éƒ¨ç½²: K8s + GitLab CI/CD

å®è·µè¦ç‚¹:
1. æœåŠ¡æ‹†åˆ†ä¸APIè®¾è®¡
2. æœåŠ¡æ³¨å†Œå‘ç° (Consul/Nacos)
3. åˆ†å¸ƒå¼äº‹åŠ¡ (Seata/Saga)
4. ç†”æ–­é™æµ (Sentinel)
5. åˆ†å¸ƒå¼è¿½è¸ª (Jaeger/Zipkin)
6. å®Œæ•´çš„CI/CDæµæ°´çº¿
7. è“ç»¿/é‡‘ä¸é›€å‘å¸ƒ
```

### é¡¹ç›®3: äº‘åŸç”Ÿç›‘æ§å¹³å° (é«˜çº§)

**ç›®æ ‡**: æŒæ¡å¯è§‚æµ‹æ€§å’ŒGitOps

```
æŠ€æœ¯æ ˆ:
â”œâ”€â”€ ç›‘æ§: Prometheus + Grafana
â”œâ”€â”€ æ—¥å¿—: ELK Stack / Loki
â”œâ”€â”€ è¿½è¸ª: Jaeger
â”œâ”€â”€ å‘Šè­¦: Alertmanager
â”œâ”€â”€ éƒ¨ç½²: ArgoCD + Helm
â””â”€â”€ åŸºç¡€è®¾æ–½: Terraform

å®è·µè¦ç‚¹:
1. Prometheusç›‘æ§é…ç½®
2. Grafanaä»ªè¡¨ç›˜åˆ¶ä½œ
3. æ—¥å¿—æ”¶é›†ä¸åˆ†æ
4. åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª
5. è‡ªå®šä¹‰å‘Šè­¦è§„åˆ™
6. Helm Chartç¼–å†™
7. ArgoCD GitOpséƒ¨ç½²
8. IaCåŸºç¡€è®¾æ–½ç®¡ç†
```

### å­¦ä¹ èµ„æºæ¨è

| ç±»å‹ | èµ„æº | è¯´æ˜ |
|------|------|------|
| **å®˜æ–¹æ–‡æ¡£** | Docker Docs / K8s Docs | æœ€æƒå¨çš„å­¦ä¹ èµ„æ–™ |
| **åœ¨çº¿è¯¾ç¨‹** | KodeKloud, Udemy, Coursera | ç³»ç»ŸåŒ–å­¦ä¹  |
| **å®è·µå¹³å°** | Katacoda, Play with Kubernetes | å…è´¹åœ¨çº¿å®éªŒ |
| **è®¤è¯è€ƒè¯•** | CKA/CKAD/CKS | æ£€éªŒå­¦ä¹ æˆæœ |
| **ç¤¾åŒº** | CNCF, KubeCon | äº†è§£æœ€æ–°è¶‹åŠ¿ |
| **å¼€æºé¡¹ç›®** | Kubernetes, Istio, Helm | å­¦ä¹ æœ€ä½³å®è·µ |

---

## æ€»ç»“

### æ ¸å¿ƒæŠ€æœ¯æ ˆæ¸…å•

```
äº‘åŸç”ŸæŠ€æœ¯æ ˆ = 
    Docker (å®¹å™¨åŒ–) + 
    Kubernetes (ç¼–æ’) + 
    Microservices (å¾®æœåŠ¡) + 
    CI/CD (æŒç»­äº¤ä»˜) + 
    Observability (å¯è§‚æµ‹æ€§)
```

### å…³é”®æˆåŠŸå› ç´ 

1. **å®è·µä¼˜å…ˆ**: ç†è®ºå­¦ä¹ ç»“åˆå¤§é‡å®è·µ
2. **å¾ªåºæ¸è¿›**: ä»Dockerå¼€å§‹ï¼Œé€æ­¥æ·±å…¥K8s
3. **å®˜æ–¹æ–‡æ¡£**: ä¼˜å…ˆé˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼Œå»ºç«‹æ­£ç¡®è®¤çŸ¥
4. **ç¤¾åŒºå‚ä¸**: å…³æ³¨CNCFé¡¹ç›®ï¼Œå‚ä¸å¼€æºç¤¾åŒº
5. **æŒç»­å­¦ä¹ **: äº‘åŸç”ŸæŠ€æœ¯æ›´æ–°å¿«ï¼Œä¿æŒå­¦ä¹ çƒ­æƒ…

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. âœ… æ­å»ºæœ¬åœ°å¼€å‘ç¯å¢ƒ (Docker Desktop + Minikube/kind)
2. âœ… å®ŒæˆDockeråŸºç¡€å­¦ä¹ 
3. âœ… å®ŒæˆKubernetesæ ¸å¿ƒæ¦‚å¿µå­¦ä¹ 
4. âœ… é€‰æ‹©ä¸€ä¸ªå®è·µé¡¹ç›®å¼€å§‹åŠ¨æ‰‹
5. âœ… å»ºç«‹ä¸ªäººçŸ¥è¯†åº“ï¼Œè®°å½•å­¦ä¹ ç¬”è®°

---

*æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2026-02-15*  
*Agent: Agent 2 - äº‘åŸç”ŸæŠ€æœ¯æ ˆç ”ç©¶*
